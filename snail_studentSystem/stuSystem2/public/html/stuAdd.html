<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      body {
        background-color: pink;
        border: 1px solid black;
      }
    </style>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/401.js"></script>
  </head>
  <body>
    <h1>学生添加</h1>
    <p>姓名<input type="text" name="" id="sname" /></p>
    <p>年龄<input type="text" name="" id="age" /></p>
    <p>
      性别 男<input type="radio" name="gender" value="男" /> 女<input
        type="radio"
        name="gender"
        value="女"
      />
    </p>
    <p>地址<input type="text" name="" id="address" /></p>
    <p>
      爱好:<br />

      吃饭<input type="checkbox" name="hobby" value="吃饭" id="" /> 睡觉<input
        type="checkbox"
        name="hobby"
        value="睡觉"
        id=""
      />
      打豆豆<input type="checkbox" name="hobby" value="打豆豆" id="" />

      <!-- <input type="text" name="" id="hobby" /></p> -->

      <br />
      <button id="btn_add">确认添加</button>

      <script>
        $(function () {
          $("#btn_add").click(function () {
            var hobbies = [];
            $("input[type='checkbox']:checked").each((index, item) => {
              hobbies.push($(item).val());
            });

            $.ajax({
              url: "/students/addStudent",
              type: "post",
              data: {
                sname: $("#sname").val(),
                age: $("#age").val(),
                address: $("#address").val(),
                hobby: hobbies.join(),
                gender: $("input[name='gender']:checked").val(),
              },
              success(res) {
                console.log(res);

                location.href = "/html/stuList.html";
              },
            });
          });
        });
      </script>
    </p>
  </body>
</html>
